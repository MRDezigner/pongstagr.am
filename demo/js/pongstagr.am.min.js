/*!
 * jQuery Pongstagr.am Plugin 
 * Examples and documentation at: http://pongstr.com/projects/pongstagr.am
 * Copyright (c) 2013 Pongstr Ordillo
 * Version: 2.0.32
 * Code license under Apache License v2.0
 * http://www.apache.org/licenses/LICENSE-2.0
 * Requires: jQuery v1.8 and Reveal Plugin
 */
(function($){
  (function(e,t,n,r){e.fn.pongstgrm=function(t){var t=e.extend({},e.fn.pongstgrm.defaults,t);return this.each(function(n,i){function s(e){function n(e){var n="https://api.instagram.com/v1/users/";var r=t.count!=null?e+"?count="+t.count+"&access_token="+t.access_token:"?access_token="+t.access_token;var i=n+r;o(i)}if(t.pager==true||t.pager===null){a(true,true)}else{a(false,true)}if(e===null||e==="recent"){n(t.user_id+"/media/recent")}else if(e==="feed"){n("/self/feed")}else if(e==="liked"){n("/self/media/liked")}else if(e==="profile"){}}function o(t){e.ajax({method:"GET",url:t,cache:true,dataType:"jsonp",success:function(e){f(e.data);u(e.pagination.next_url)}})}function u(n){var i=t.show!=null?"#"+t.show+"-btn":"#recent_media-btn";if(n===r){e('a[id="'+t.show+'-btn"]').removeClass("btn-success").css({cursor:"default",opacity:"0.3",boxShadow:"none"})}else{e(i).click(function(t){o(n);e(this).unbind(t)})}}function a(n,r){if(n===true){var s=t.show===null?"recent_media-btn":t.show+"-btn";btn_html="<div class='twelve mobile-four columns pongstgrm-btn'><a href='javascript:void(0);' id='"+s+"' class='four columns centered button large success radius'>Load More Photos</a></div>";e(i).after(btn_html)}var o=t.show===null?"recent-modal":t.show+"-modal";if(r===true){var r="<div id='' class='reveal-modal large "+o+"'>                            <div class='row'>                                                              <div class='six columns modal-image'></div>                                    <div class='six columns modal-content'></div>                                  </div>                                                                         <a href='javascript:void(0);' class='close-reveal-modal'>&#215;</a></div>";e("body").append(r)}}function f(n){if(t.show!=="user"||t.show==="recent"){e.each(n,function(n,r){var s=r.caption!=null?r.caption.text!=null?"<h4>"+r.caption.text+"</h4><hr />":"":"<h4>@"+r.user.username+"</h4><hr />";captiontxt=r.caption!=null?r.caption.text!=null?r.caption.text:"":"@"+r.user.username;var o=r.likes.count?"<div class='six columns mobile-two alignleft'><i class='icon-heart'></i>  <strong>"+r.likes.count+"</strong></div>":"<div class='six columns mobile-two alignleft'><i class='icon-heart'></i>  <strong>0</strong></div>";comments=r.comments.count?"<div class='six columns mobile-two alignright'><i class='icon-comment'></i>  <strong>"+r.comments.count+"</strong></div>":"<div class='six columns mobile-two alignright'><i class='icon-comment'></i>  <strong>0</strong></div>";thumbnail=r.images.low_resolution.url?"<a href='javascript:void(0);' data-reveal-id='"+r.id+"' title='"+captiontxt+"' class='th'><img src='"+r.images.low_resolution.url+"' alt='' /><div class='stats'>"+o+comments+"</div></a>":"";var u=t.show==="recent"||t.show===null?"":"<div class='twelve columns user'><i class='icon-user'></i>  <strong>"+r.user.username+"</strong></div>";var a="<div class='three mobile-two columns'>                                          "+u+thumbnail+"                                                </div>";e(i).append(a);e('[data-reveal-id="'+r.id+'"]').click(function(){var n=t.show===null?"recent-modal":t.show+"-modal";media_owner="<p><a href='http://www.instagram.com/"+r.user.username+"/'><strong>@"+r.user.username+"</strong></a></p>";if(t.resolution===null||t.resolution==="standard_resolution"){var i="<img src='"+r.images.standard_resolution.url+"'alt='"+captiontxt+"' width='"+r.images.standard_resolution.width+"' height='"+r.images.standard_resolution.height+"' />"+media_owner}else if(t.resolution==="low_resolution"){var i="<img src='"+r.images.low_resolution.url+"' alt='"+captiontxt+"' width='"+r.images.low_resolution.width+"' height='"+r.images.low_resolution.height+"' />"+media_owner}var u="<div class='row'><div class='twelve columns'>"+s+"</div></div>                                        <div class='row'>"+o+"<div class='six mobile-two columns alignright'><i class='icon-comment'></i>  <strong>"+r.comments.count+"</strong></div>"+"</div><br />";e("."+n).attr("id",r.id);e('[id="'+r.id+'"]').reveal({animationSpeed:200,closeOnBackgroundClick:true,dismissModalClass:"close-reveal-modal",open:function(){e("."+n+" .modal-content").append(u);e("."+n+" .modal-image").append(i);e.each(r.comments.data,function(t,r){var i="<div class='row'>";i+="<div class='twelve  mobile-four columns'>";i+="<div class='two mobile-one columns'><a href='http://www.instagram.com/"+r.from.username+"' title='@"+r.from.username+"'><img src='"+r.from.profile_picture+"' alt='"+r.from.username+"'  /></a></div>";i+="<div class='ten mobile-three columns'>";i+="<strong><a href='http://www.instagram.com/"+r.from.username+"' title='@"+r.from.username+"'>"+r.from.username+"</a></strong>";i+="<p>"+r.text+"</p><hr />";i+="</div>";i+="</div></div>";e("."+n+" .modal-content").append(i)})},close:function(){e(".modal-content, .modal-image").empty()}});e(".close-reveal-modal").click(function(){e(".modal-content, .modal-image").empty()})})});e(".th").hover(function(){e(".stats",this).show().animate({position:"absolute",left:"0",bottom:"5px"},150)},function(){e(".stats",this).animate({position:"absolute",left:"0",bottom:"-50px"},150).hide()})}else{}}if(t.user_id===null||t.access_token===null){console.log('"user_id & "access_token" must be sett to access instagram api.')}else{s(t.show)}})};e.fn.pongstgrm.defaults={user_id:null,access_token:null,show:null,count:null,resolution:null,pager:null}})(jQuery,window,document)
})(this.jQuery);
